<!-- Primary Nav -->
<div
  [attr.id]="PRIMARY_NAV_ID"
  (docsClickOutside)="closeMobileNav()"
  [docsClickOutsideIgnore]="[SECONDARY_NAV_ID]"
>
  <!-- Mobile nav bar -->
  <div class="adev-mobile-nav-bar">
    <!-- Logo icon -->
    <button
      type="button"
      class="adev-mobile-nav-button"
      aria-label="Toggle mobile navigation"
      (click)="openMobileNav($event)"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 17 18" fill="none">
        <path d="M0 14.9369C0 15.4452 0.150699 15.9421 0.433028 16.3647C0.715358 16.7873 1.11665 17.1167 1.58614 17.3112C2.05564 17.5058 2.57225 17.5567 3.07067 17.4575C3.56908 17.3583 4.0269 17.1136 4.38624 16.7541C4.74558 16.3947 4.99029 15.9368 5.08943 15.4383C5.18857 14.9398 5.13769 14.423 4.94322 13.9534C4.74874 13.4838 4.41942 13.0825 3.99688 12.8001C3.57435 12.5177 3.07758 12.3669 2.5694 12.3669C1.88795 12.3669 1.23441 12.6377 0.752558 13.1197C0.270701 13.6016 0 14.2553 0 14.9369Z" fill="#966DC0"/>
        <path d="M0 8.99941C0 9.5077 0.150699 10.0046 0.433028 10.4272C0.715358 10.8498 1.11665 11.1792 1.58614 11.3737C2.05564 11.5683 2.57225 11.6191 3.07067 11.52C3.56908 11.4208 4.0269 11.1761 4.38624 10.8166C4.74558 10.4572 4.99029 9.9993 5.08943 9.50078C5.18857 9.00226 5.13769 8.48552 4.94322 8.01592C4.74874 7.54632 4.41942 7.14495 3.99688 6.86256C3.57435 6.58017 3.07758 6.42944 2.5694 6.42944C1.88795 6.42944 1.23441 6.70021 0.752558 7.18217C0.270701 7.66413 0 8.31781 0 8.99941Z" fill="#F20587"/>
        <path d="M1.74619e-07 3.06193C-0.000187153 3.57027 0.150351 4.06723 0.432566 4.48999C0.714782 4.91274 1.116 5.24229 1.58548 5.43695C2.05496 5.63161 2.57161 5.68263 3.07009 5.58358C3.56856 5.48452 4.02647 5.23983 4.38591 4.88046C4.74534 4.52108 4.99014 4.06315 5.08936 3.56461C5.18858 3.06606 5.13776 2.54927 4.94332 2.07962C4.74887 1.60996 4.41954 1.20854 3.99698 0.926103C3.57443 0.64367 3.07762 0.49292 2.5694 0.49292C1.88812 0.49292 1.23473 0.763553 0.752905 1.24531C0.271076 1.72707 0.000251293 2.3805 1.74619e-07 3.06193Z" fill="#F20587"/>
        <path d="M5.92981 8.99941C5.92981 9.5077 6.08051 10.0046 6.36284 10.4272C6.64517 10.8498 7.04646 11.1792 7.51595 11.3737C7.98545 11.5683 8.50206 11.6191 9.00048 11.52C9.49889 11.4208 9.95672 11.1761 10.3161 10.8166C10.6754 10.4572 10.9201 9.9993 11.0192 9.50078C11.1184 9.00226 11.0675 8.48552 10.873 8.01592C10.6786 7.54632 10.3492 7.14495 9.9267 6.86256C9.50416 6.58017 9.00739 6.42944 8.49921 6.42944C7.81776 6.42944 7.16422 6.70021 6.68237 7.18217C6.20051 7.66413 5.92981 8.31781 5.92981 8.99941Z" fill="#966DC0"/>
        <path d="M5.92981 3.06193C5.92962 3.57027 6.08016 4.06723 6.36238 4.48999C6.64459 4.91274 7.04581 5.24229 7.51529 5.43695C7.98477 5.63161 8.50142 5.68263 8.9999 5.58358C9.49838 5.48452 9.95629 5.23983 10.3157 4.88046C10.6752 4.52108 10.92 4.06315 11.0192 3.56461C11.1184 3.06606 11.0676 2.54927 10.8731 2.07962C10.6787 1.60996 10.3494 1.20854 9.9268 0.926103C9.50424 0.64367 9.00743 0.49292 8.49921 0.49292C7.81793 0.49292 7.16454 0.763553 6.68272 1.24531C6.20089 1.72707 5.93006 2.3805 5.92981 3.06193Z" fill="#F20587"/>
        <path d="M11.8612 14.9369C11.8612 15.4452 12.0119 15.9421 12.2942 16.3647C12.5766 16.7873 12.9779 17.1167 13.4474 17.3112C13.9169 17.5058 14.4335 17.5567 14.9319 17.4575C15.4303 17.3583 15.8881 17.1136 16.2475 16.7541C16.6068 16.3947 16.8515 15.9368 16.9507 15.4383C17.0498 14.9398 16.9989 14.423 16.8045 13.9534C16.61 13.4838 16.2807 13.0825 15.8581 12.8001C15.4356 12.5177 14.9388 12.3669 14.4306 12.3669C13.7492 12.3669 13.0956 12.6377 12.6138 13.1197C12.1319 13.6016 11.8612 14.2553 11.8612 14.9369Z" fill="#2578E0"/>
        <path d="M11.8612 3.06193C11.861 3.57027 12.0116 4.06723 12.2938 4.48999C12.576 4.91274 12.9772 5.24229 13.4467 5.43695C13.9162 5.63161 14.4328 5.68263 14.9313 5.58358C15.4298 5.48452 15.8877 5.23983 16.2471 4.88046C16.6066 4.52108 16.8514 4.06315 16.9506 3.56461C17.0498 3.06606 16.999 2.54927 16.8045 2.07962C16.6101 1.60996 16.2808 1.20854 15.8582 0.926103C15.4356 0.64367 14.9388 0.49292 14.4306 0.49292C13.7493 0.49292 13.0959 0.763553 12.6141 1.24531C12.1323 1.72707 11.8615 2.3805 11.8612 3.06193Z" fill="#966DC0"/>
      </svg>
      <docs-icon role="presentation">menu</docs-icon>
    </button>
  </div>

  <nav
    class="adev-nav-primary docs-scroll-hide"
    [class.adev-nav-primary--open]="isMobileNavigationOpened()"
  >
    <button
      type="button"
      class="adev-close-nav"
      (click)="closeMobileNav()"
      aria-label="Close navigation"
    >
      <docs-icon role="presentation">close</docs-icon>
    </button>
    <!-- Top section of primary nav -->
    <ul class="adev-nav__top">
      <!-- Home / Angular logo -->
      <li
        class="adev-nav-item adev-nav-item--logo"
        [class.adev-nav-item--active]="activeRouteItem() === HOME_ROUTE"
      >
        <a aria-label="Glossary homepage" routerLink="/">
          <!-- Logo Symbol -->
          <svg class="angular-logo" xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 17 18" fill="none">
            <path d="M0 14.9369C0 15.4452 0.150699 15.9421 0.433028 16.3647C0.715358 16.7873 1.11665 17.1167 1.58614 17.3112C2.05564 17.5058 2.57225 17.5567 3.07067 17.4575C3.56908 17.3583 4.0269 17.1136 4.38624 16.7541C4.74558 16.3947 4.99029 15.9368 5.08943 15.4383C5.18857 14.9398 5.13769 14.423 4.94322 13.9534C4.74874 13.4838 4.41942 13.0825 3.99688 12.8001C3.57435 12.5177 3.07758 12.3669 2.5694 12.3669C1.88795 12.3669 1.23441 12.6377 0.752558 13.1197C0.270701 13.6016 0 14.2553 0 14.9369Z" fill="#966DC0"/>
            <path d="M0 8.99941C0 9.5077 0.150699 10.0046 0.433028 10.4272C0.715358 10.8498 1.11665 11.1792 1.58614 11.3737C2.05564 11.5683 2.57225 11.6191 3.07067 11.52C3.56908 11.4208 4.0269 11.1761 4.38624 10.8166C4.74558 10.4572 4.99029 9.9993 5.08943 9.50078C5.18857 9.00226 5.13769 8.48552 4.94322 8.01592C4.74874 7.54632 4.41942 7.14495 3.99688 6.86256C3.57435 6.58017 3.07758 6.42944 2.5694 6.42944C1.88795 6.42944 1.23441 6.70021 0.752558 7.18217C0.270701 7.66413 0 8.31781 0 8.99941Z" fill="#F20587"/>
            <path d="M1.74619e-07 3.06193C-0.000187153 3.57027 0.150351 4.06723 0.432566 4.48999C0.714782 4.91274 1.116 5.24229 1.58548 5.43695C2.05496 5.63161 2.57161 5.68263 3.07009 5.58358C3.56856 5.48452 4.02647 5.23983 4.38591 4.88046C4.74534 4.52108 4.99014 4.06315 5.08936 3.56461C5.18858 3.06606 5.13776 2.54927 4.94332 2.07962C4.74887 1.60996 4.41954 1.20854 3.99698 0.926103C3.57443 0.64367 3.07762 0.49292 2.5694 0.49292C1.88812 0.49292 1.23473 0.763553 0.752905 1.24531C0.271076 1.72707 0.000251293 2.3805 1.74619e-07 3.06193Z" fill="#F20587"/>
            <path d="M5.92981 8.99941C5.92981 9.5077 6.08051 10.0046 6.36284 10.4272C6.64517 10.8498 7.04646 11.1792 7.51595 11.3737C7.98545 11.5683 8.50206 11.6191 9.00048 11.52C9.49889 11.4208 9.95672 11.1761 10.3161 10.8166C10.6754 10.4572 10.9201 9.9993 11.0192 9.50078C11.1184 9.00226 11.0675 8.48552 10.873 8.01592C10.6786 7.54632 10.3492 7.14495 9.9267 6.86256C9.50416 6.58017 9.00739 6.42944 8.49921 6.42944C7.81776 6.42944 7.16422 6.70021 6.68237 7.18217C6.20051 7.66413 5.92981 8.31781 5.92981 8.99941Z" fill="#966DC0"/>
            <path d="M5.92981 3.06193C5.92962 3.57027 6.08016 4.06723 6.36238 4.48999C6.64459 4.91274 7.04581 5.24229 7.51529 5.43695C7.98477 5.63161 8.50142 5.68263 8.9999 5.58358C9.49838 5.48452 9.95629 5.23983 10.3157 4.88046C10.6752 4.52108 10.92 4.06315 11.0192 3.56461C11.1184 3.06606 11.0676 2.54927 10.8731 2.07962C10.6787 1.60996 10.3494 1.20854 9.9268 0.926103C9.50424 0.64367 9.00743 0.49292 8.49921 0.49292C7.81793 0.49292 7.16454 0.763553 6.68272 1.24531C6.20089 1.72707 5.93006 2.3805 5.92981 3.06193Z" fill="#F20587"/>
            <path d="M11.8612 14.9369C11.8612 15.4452 12.0119 15.9421 12.2942 16.3647C12.5766 16.7873 12.9779 17.1167 13.4474 17.3112C13.9169 17.5058 14.4335 17.5567 14.9319 17.4575C15.4303 17.3583 15.8881 17.1136 16.2475 16.7541C16.6068 16.3947 16.8515 15.9368 16.9507 15.4383C17.0498 14.9398 16.9989 14.423 16.8045 13.9534C16.61 13.4838 16.2807 13.0825 15.8581 12.8001C15.4356 12.5177 14.9388 12.3669 14.4306 12.3669C13.7492 12.3669 13.0956 12.6377 12.6138 13.1197C12.1319 13.6016 11.8612 14.2553 11.8612 14.9369Z" fill="#2578E0"/>
            <path d="M11.8612 3.06193C11.861 3.57027 12.0116 4.06723 12.2938 4.48999C12.576 4.91274 12.9772 5.24229 13.4467 5.43695C13.9162 5.63161 14.4328 5.68263 14.9313 5.58358C15.4298 5.48452 15.8877 5.23983 16.2471 4.88046C16.6066 4.52108 16.8514 4.06315 16.9506 3.56461C17.0498 3.06606 16.999 2.54927 16.8045 2.07962C16.6101 1.60996 16.2808 1.20854 15.8582 0.926103C15.4356 0.64367 14.9388 0.49292 14.4306 0.49292C13.7493 0.49292 13.0959 0.763553 12.6141 1.24531C12.1323 1.72707 11.8615 2.3805 11.8612 3.06193Z" fill="#966DC0"/>
          </svg>
        </a>
      </li>

      <!-- Search -->
      <li class="adev-nav-item">
        <button
          class="adev-nav-button"
          type="button"
          (click)="toggleSearchDialog($event)"
          title="Search docs"
        >
          <svg
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="inherit"
          >
            <path
              d="M14.583 15.48 9.104 10a4.591 4.591 0 0 1-1.458.844 5.156 5.156 0 0 1-1.771.302c-1.5 0-2.77-.52-3.813-1.563C1.022 8.542.5 7.285.5 5.813c0-1.473.52-2.73 1.563-3.771C3.103 1 4.367.479 5.854.479 7.326.48 8.58 1 9.614 2.042c1.035 1.041 1.553 2.298 1.553 3.77 0 .598-.098 1.174-.292 1.73A5.287 5.287 0 0 1 10 9.104l5.5 5.459-.917.916ZM5.854 9.895c1.125 0 2.083-.4 2.875-1.198a3.95 3.95 0 0 0 1.188-2.885 3.95 3.95 0 0 0-1.188-2.886C7.938 2.13 6.98 1.73 5.854 1.73c-1.139 0-2.107.4-2.906 1.198-.799.799-1.198 1.76-1.198 2.886 0 1.125.4 2.086 1.198 2.885.799.799 1.767 1.198 2.906 1.198Z"
            />
          </svg>
          <span
            class="adev-nav-item__label adev-search-desktop"
            [attr.aria-label]="'Open search dialog with ' + searchTitle"
          >
            <kbd>{{ searchLabel }}</kbd>
            <kbd>K</kbd>
          </span>
        </button>
      </li>

      <!-- Docs -->
      <li class="adev-nav-item" [class.adev-nav-item--active]="activeRouteItem() === DOCS_ROUTE">
        <a [routerLink]="DOCS_ROUTE">
          <svg
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="14"
            height="18"
            fill="inherit"
          >
            <path
              d="M3.645 13.792h6.708v-1.25H3.645v1.25Zm0-3.542h6.708V9H3.645v1.25Zm-2.063 7.083a1.2 1.2 0 0 1-.875-.375 1.2 1.2 0 0 1-.375-.875V1.917a1.2 1.2 0 0 1 .375-.875 1.2 1.2 0 0 1 .875-.375h7.52l4.563 4.562v10.854a1.2 1.2 0 0 1-.375.875 1.2 1.2 0 0 1-.875.375H1.582ZM8.478 5.792V1.917H1.582v14.166h10.833V5.792H8.478Z"
            />
          </svg>
          <span class="adev-nav-item__label">Docs</span>
        </a>
      </li>
    </ul>

    <!-- Bottom section of primary nav -->
    <div class="adev-nav__bottom">
      <!-- TODO: Refactor this and make it better. Accessible, animated, etc. -->
      <div class="adev-nav-item" [class.adev-nav-item--active]="openedMenu === 'theme-picker'">
        <button
          type="button"
          [cdkMenuTriggerFor]="themeMiniMenu"
          [cdkMenuPosition]="miniMenuPositions"
          aria-label="Open theme picker"
          (cdkMenuClosed)="closeMenu()"
          (cdkMenuOpened)="openMenu('theme-picker')"
        >
          <docs-icon role="presentation">
            @switch (theme()) { @case ('light') {
            {{ 'light_mode' }}
            } @case ('dark') {
            {{ 'dark_mode' }}
            } @case ('auto') {
            {{ 'routine' }}
            } }
          </docs-icon>
        </button>

        <ng-template #themeMiniMenu>
          <ul class="adev-mini-menu" cdkMenu>
            <li>
              <button
                type="button"
                cdkMenuItem
                (click)="setTheme('auto')"
                aria-label="Set default system theme"
              >
                <docs-icon class="docs-icon_high-contrast">routine</docs-icon>
                <span>System</span>
              </button>
            </li>
            <li>
              <button
                type="button"
                cdkMenuItem
                (click)="setTheme('dark')"
                aria-label="Set dark theme"
              >
                <docs-icon class="docs-icon_high-contrast">dark_mode</docs-icon>
                <span>Dark</span>
              </button>
            </li>
            <li>
              <button
                type="button"
                cdkMenuItem
                (click)="setTheme('light')"
                aria-label="Set light theme"
              >
                <docs-icon class="docs-icon_high-contrast">light_mode</docs-icon>
                <span>Light</span>
              </button>
            </li>
          </ul>
        </ng-template>
      </div>
    </div>
  </nav>

  <!-- Tablet: Second horizontal nav layer which opens the secondary nav -->
  @if (activeRouteItem() === DOCS_ROUTE) {
  <div class="adev-secondary-tablet-bar">
    <button type="button" (click)="openMobileNav($event)">
      <docs-icon class="docs-icon_high-contrast">menu</docs-icon>
      @if (activeRouteItem() === DOCS_ROUTE) {
      <span>Docs</span>
      }
    </button>
  </div>
  }
</div>
